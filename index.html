<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VMU Icon Maker</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://unpkg.com/gifshot@0.4.5/dist/gifshot.min.js"></script>
</head>
<body>
    <div id="dreamcast-background"></div>
    <div id="head-area">
        <h1>VMU Icon Maker</h1>
        <div id="clock"></div>
    </div>
    <div id="content-area">
        <div id="open-area">
            <label for="unified-file" id="unified-file-label">
                <span>DRAG & DROP IMAGES OR VMS FILES ANYWHERE</span>
                <div class="button">OR CLICK HERE</div>
            </label>
            <input type="file" id="unified-file" accept=".vms, .ico, .bmp,.png,.jpg,.jpeg,.gif,.webp" style="display: none;" />
        </div>
        <div id="color-area">
            <div class="inline-container">
                <h3>Color Icon</h3>
                <label for="color-file" class="image-file-upload">+</label>
                <input type="file" id="color-file" accept=".ico, .bmp, .png, .jpeg, .jpg, .gif, .webp">
            </div>
            <canvas id="color-canvas" width="256" height="256" class="transparent-bg" style="border: 1px solid #000;"></canvas>
            <div class="palette-area">
                <div id="color-indicators">
                    <div id="secondary-color-indicator" class="color-indicator" style="background-color: rgb(255, 255, 255);"></div>
                    <div id="primary-color-indicator" class="color-indicator" style="background-color: rgb(0, 0, 0);"></div>
                </div>
                <div id="color-palette">
                    <div style="background-color: rgb(0, 0, 0); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(255, 255, 255); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(255, 0, 0); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(0, 255, 0); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(0, 0, 255); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(255, 255, 0); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(0, 255, 255); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(255, 0, 255); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(187, 187, 187); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(136, 136, 136); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(136, 0, 0); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(136, 136, 0); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(0, 136, 0); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(136, 0, 136); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(0, 136, 136); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                    <div style="background-color: rgb(0, 0, 136); width: 20px; height: 20px; cursor: pointer; border: 1px solid rgb(204, 204, 204);"></div>
                </div>
            </div>
        </div>
        <div id="mono-area">
            <div class="inline-container">
                <h3>Mono Icon</h3>
                <label for="mono-file" class="image-file-upload">+</label>
                <input type="file" id="mono-file" accept=".ico, .bmp, .png, .jpeg, .jpg, .gif, .webp">
            </div>
            <canvas id="mono-canvas" width="256" height="256" style="border: 1px solid #000;"></canvas>
            <div class="palette-area">
                <div id="mono-color-indicators">
                    <div id="mono-secondary-color-indicator" class="color-indicator"></div>
                    <div id="mono-primary-color-indicator" class="color-indicator" style="background-color: rgb(29, 71, 129);"></div>
                </div>
                <div id="mono-palette" style="display: grid; grid-template-columns: repeat(8, 20px); gap: 0px 2px;">
                    <div id="mono-palette-item-index-0" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-1" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-2" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-3" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-4" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-5" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-6" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-7" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-8" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-9" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-10" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-11" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-12" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-13" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-14" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                    <div id="mono-palette-item-index-15" style="width: 20px; height: 20px; border: 1px solid rgb(204, 204, 204); cursor: pointer; position: relative; background-color: transparent;"></div>
                </div>
            </div>
        </div>
        <br>
        <div id="generate-area">
            <div class="inline-container">
                <h3>Description</h3>
            </div>
            <input type="text" id="description" maxlength="16" placeholder="Description" value="ICONDATA_VMS">
            <div class="option-container">
                <input type="checkbox" id="3d-mode-toggle" />
                <label for="3d-mode-toggle">Enable 3D Dreamcast Menu</label>
                <div class="tooltip">
                    Enables special 3D mode for Dreamcast BIOS menu
                </div>
            </div>
            <label for="save-button" class="button">Generate</label>
            <button id="save-button">Save</button>
        </div>
        <div id="description-area">
            <!-- <p><span id="menu-description">&nbsp;</span></p> -->
            <p><span id="boot-rom-description"></span></p>
        </div>
        <div id="custom-color-picker" class="color-picker-container" style="display: none;">
            <div id="color-picker-canvas-container">
                <canvas id="color-picker-canvas" width="235" height="136"></canvas>
            </div>
            <div id="color-preview-container">
                <div id="color-preview"></div>
                <div id="color-sliders">
                    <canvas id="hue-slider" width="150" height="12"></canvas>
                    <canvas id="opacity-slider" width="150" height="12"></canvas>
                </div>
            </div>
            <div id="color-picker-inputs">
                <input type="number" class="color-picker-input" id="red" min="0" max="15">
                <input type="number" class="color-picker-input" id="green" min="0" max="15">
                <input type="number" class="color-picker-input" id="blue" min="0" max="15">
                <input type="number" class="color-picker-input" id="alpha" min="0" max="15">
            </div>
            <div id="color-picker-labels">
                <label for="red" class="color-picker-label">R</label>
                <label for="green" class="color-picker-label">G</label>
                <label for="blue" class="color-picker-label">B</label>
                <label for="alpha" class="color-picker-label">A</label>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
    <script src="background.js"></script>
</body>
</html>
